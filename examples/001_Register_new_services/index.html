<!DOCTYPE html>
<html>
<head>
    <title>Feature #1: Register New Services</title>
    <link
        rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
        integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">
</head>
<body>
    <h1>Feature #1: Register New Services</h1>
    <p>This example registers a service named <code>todo.users</code> pointing
        to a local Todo application
        <a href="http://localhost:3000/todo/users">endpoint</a>.</p>

    <button id="fetch-button">Fetch</button>

    <blockquote id="fetch-result" style="white-space: pre;"></blockquote>
    <script type="text/javascript">
        (function () {
            var outputNode = document.getElementById('fetch-result'),
                request = new XMLHttpRequest(),
                url = 'http://localhost:3000/todo/users',
                worker;

            navigator.serviceWorker
                .register('/worker/main.js', {scope: 'https://localhost:3001/'})
                .then(function (reg) {
                    console.log(reg);
                });
        }());
    </script>
</body>
</html>
